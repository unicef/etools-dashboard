<link rel="import" href="../../../../bower_components/polymer-redux/polymer-redux.html">
<script>
  var initialDropdownDashboardData = {
    countryProgrammes: [],
    offices: [],
    countries: [],
    sectors: [],
    sections: [],
    partnersDropdownData: [],
    trips: [],
    tripsSupervised: [],
    actionPointsByMe: [],
    actionPointsForMe: [],
    partnerships: [],
    tripsMonths: [],
    tripsYears: [],
    unicefUsersData: []
  };

  //  function isa(type, action) {
  //    return function(obj) {
  //      if (type === obj.type) {
  //        return action(obj);
  //      }
  //    }
  //  }
  //  function cat() {
  //    var head = _.first(arguments);
  //    if (existy(head)){
  //      return head.concat.apply(head, _.rest(arguments));
  //    }else {
  //      return [];
  //    }
  //  }
  //  function construct(head, tail) {
  //    return cat([head], _.toArray(tail));
  //  }
  //  function existy(x) {
  //    return x != null;
  //  }
  //
  //  function _dispatch() {
  //    var funs = _.toArray(arguments);
  //    var size = funs.length;
  //    return function(target) {
  //      var ret = undefined;
  //      var args = _.rest(arguments);
  //      for (var funIndex = 0; funIndex < size; funIndex++) {
  //        var fun = funs[funIndex];
  //        ret = fun.apply(fun, construct(target, args));
  //        if (existy(ret)) return ret;
  //      }
  //      return ret;
  //    };
  //  }

  var commonStaticDataStore = Redux.createStore(function(state, action) {
    if (!state) {
      return initialDropdownDashboardData;
    }
    var newProp = {};
    var value = _.find(_.keys(action), function(p) {
      return p !== 'type'
    });

    newProp[value] = action[value];
    return Object.assign({}, state, newProp);

//    switch (action.type) {
//      case 'country-programmes':
//        return Object.assign({}, state, {countryProgrammes: action.countryProgrammes});
//
//      case 'SET_SECTORS':
//        return Object.assign({}, state, {sectors: action.sectors});
//
//      case 'offices':
//        return Object.assign({}, state, {offices: action.offices});
//
//      case 'SET_SECTIONS':
//        return Object.assign({}, state, {sections: action.sections});
//
//      case 'SET_TRIPS_DATA':
//        return Object.assign({}, state, {trips: action.trips});
//
//      case 'SET_SUPERVISED_TRIPS_DATA':
//        return Object.assign({}, state, {tripsSupervised: action.trips});
//
//      case 'SET_ACTION_POINTS_BY_ME' :
//        return Object.assign({}, state, {actionPointsByMe: action.actionPoints});
//
//      case 'SET_ACTION_POINTS_FOR_ME' :
//        return Object.assign({}, state, {actionPointsForMe: action.actionPoints});
//
//      case 'SET_PARTNERS_DROPDOWN':
//        return Object.assign({}, state, {partnersDropdownData: action.partnersDropdownData});
//
//      case 'SET_PARTNERSHIPS' :
//        return Object.assign({}, state, {partnerships: action.partnerships});
//
//      case 'SET_TRIPS_MONTHS' :
//        return Object.assign({}, state, {tripsMonths: action.months});
//
//      case 'SET_TRIPS_YEARS' :
//        return Object.assign({}, state, {tripsYears: action.years});
//
//      case 'SET_UNICEF_USERS_DATA':
//        return Object.assign({}, state, {unicefUsersData: action.unicefUsersData});
//
//    }
  });

  window.dashBehaviors = window.dashBehaviors || {};
  dashBehaviors.EtoolsStaticCommonDataReduxBehavior = PolymerRedux(commonStaticDataStore);
</script>
